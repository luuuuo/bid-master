{"abi":[{"type":"constructor","inputs":[{"name":"proposalNames","type":"bytes32[]","internalType":"bytes32[]"}],"stateMutability":"nonpayable"},{"type":"function","name":"chairperson","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"delegate","inputs":[{"name":"to","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"giveRightToVote","inputs":[{"name":"voter","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"proposals","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"name","type":"bytes32","internalType":"bytes32"},{"name":"voteCount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"vote","inputs":[{"name":"proposal","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"voters","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"weight","type":"uint256","internalType":"uint256"},{"name":"voted","type":"bool","internalType":"bool"},{"name":"delegate","type":"address","internalType":"address"},{"name":"vote","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"winnerName","inputs":[],"outputs":[{"name":"winnerName_","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"winningProposal","inputs":[],"outputs":[{"name":"winningProposal_","type":"uint256","internalType":"uint256"}],"stateMutability":"view"}],"bytecode":{"object":"0x604060808152346101a2576108748038038061001a816101bd565b92833981019060209081818403126101a25780516001600160401b03918282116101a257019183601f840112156101a2578251938285116101a75760059385851b9083806100698185016101bd565b8099815201928201019283116101a2579596958301905b828210610193575050600080546001600160a01b031916339081178255815260018084528682208190559096909487949250855b6100c7575b865161069190816101e38239f35b815188101561018e578388821b830101518751908882018281108682111761017a578952815284810186815260028054906801000000000000000082101561016657898201808255821015610152578852868820925190891b9092019182555190870155600019881461013e5796850196856100b4565b634e487b7160e01b85526011600452602485fd5b634e487b7160e01b89526032600452602489fd5b634e487b7160e01b89526041600452602489fd5b634e487b7160e01b88526041600452602488fd5b6100b9565b81518152908301908301610080565b600080fd5b634e487b7160e01b600052604160045260246000fd5b6040519190601f01601f191682016001600160401b038111838210176101a75760405256fe608060408181526004918236101561001657600080fd5b600092833560e01c9182630121b93f146104b357508163013cf08b146104725781632e4176cf1461044a5781635c19a95c14610237578163609ff1bd146102135781639e7b8d6114610119578163a3ec138d146100ad575063e2ba53f01461007d57600080fd5b346100a957816003193601126100a9576020906100a061009b6105ef565b61057c565b50549051908152f35b5080fd5b905034610115576020366003190112610115576001600160a01b03919035828116908190036101115783829160809552600160205220908154926002600184015493015492825194855260ff81161515602086015260081c16908301526060820152f35b8380fd5b8280fd5b9050346101155760203660031901126101155780356001600160a01b03818116929183900361020f5784541633036101bb57818452600160205260ff6001848620015416610178575082526001602052812080546100a9576001905580f35b606490602084519162461bcd60e51b8352820152601860248201527f54686520766f74657220616c726561647920766f7465642e00000000000000006044820152fd5b608490602084519162461bcd60e51b8352820152602860248201527f4f6e6c79206368616972706572736f6e2063616e2067697665207269676874206044820152673a37903b37ba329760c11b6064820152fd5b8480fd5b5050346100a957816003193601126100a9576020906102306105ef565b9051908152f35b919050346101155760209081600319360112610111576001600160a01b038335818116949085810361044657338752600193848652808820958654948515610403578688019485549960ff8b166103cb5733146103885790879291835b610309575b5084168a525287209584875410610305576001600160a81b03191660089190911b610100600160a81b031617831790558382015460ff16156102f757506102e860026102f2935494015461057c565b50019182546105cc565b905580f35b90506102f2915082546105cc565b8780fd5b908092935085168b528783528188858d20015460081c169488861561037e57505084331461033b578792919083610294565b835162461bcd60e51b8152908101839052601960248201527f466f756e64206c6f6f7020696e2064656c65676174696f6e2e000000000000006044820152606490fd5b9392915094610299565b835162461bcd60e51b8152908101839052601e60248201527f53656c662d64656c65676174696f6e20697320646973616c6c6f7765642e00006044820152606490fd5b845162461bcd60e51b815280830185905260126024820152712cb7ba9030b63932b0b23c903b37ba32b21760711b6044820152606490fd5b825162461bcd60e51b8152808601839052601960248201527f596f752068617665206e6f20726967687420746f20766f7465000000000000006044820152606490fd5b8680fd5b5050346100a957816003193601126100a957905490516001600160a01b039091168152602090f35b839150346100a95760203660031901126100a95735906002548210156104b0575061049c9061057c565b506001815491015482519182526020820152f35b80fd5b849184346101115760203660031901126101115781359133855260016020528185209182549485156105445750600183019182549160ff8316610510575050928060026001946102e894866102f29860ff1916179055015561057c565b906020606492519162461bcd60e51b8352820152600e60248201526d20b63932b0b23c903b37ba32b21760911b6044820152fd5b62461bcd60e51b81526020838201526014602482015273486173206e6f20726967687420746f20766f746560601b6044820152606490fd5b6002548110156105b657600260005260011b7f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0190600090565b634e487b7160e01b600052603260045260246000fd5b919082018092116105d957565b634e487b7160e01b600052601160045260246000fd5b600254600091908280805b8381106106075750505050565b6106108161057c565b508260018092015411610644575b506000198114610630576001016105fa565b634e487b7160e01b83526011600452602483fd5b915094506106518561057c565b500154843861061e56fea2646970667358221220590c910648309d3f1e7742cf6ab330d15d89dedf6fe2f9c477e1ada388bf0bd264736f6c63430008120033","sourceMap":"845:5384:35:-:0;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;845:5384:35;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;845:5384:35;;-1:-1:-1;;;;;;845:5384:35;1766:10;845:5384;;;;;;;;;;;;;;;;;-1:-1:-1;;845:5384:35;;-1:-1:-1;;1766:10:35;-1:-1:-1;845:5384:35;;;;1962:333;845:5384;;;;;;;;;2005:3;845:5384;;1979:24;;;;;845:5384;;;;;;;;;;;;;;;;;;;;;;;;;;;2185:97;;;845:5384;;;2170:9;845:5384;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;845:5384:35;;;;;;;;;1967:10;;845:5384;-1:-1:-1;;;845:5384:35;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;1979:24;;;845:5384;;;;;;;;;;;;;;-1:-1:-1;845:5384:35;;;;;;-1:-1:-1;845:5384:35;;;;;-1:-1:-1;845:5384:35;;;;;;;;-1:-1:-1;;845:5384:35;;;-1:-1:-1;;;;;845:5384:35;;;;;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x608060408181526004918236101561001657600080fd5b600092833560e01c9182630121b93f146104b357508163013cf08b146104725781632e4176cf1461044a5781635c19a95c14610237578163609ff1bd146102135781639e7b8d6114610119578163a3ec138d146100ad575063e2ba53f01461007d57600080fd5b346100a957816003193601126100a9576020906100a061009b6105ef565b61057c565b50549051908152f35b5080fd5b905034610115576020366003190112610115576001600160a01b03919035828116908190036101115783829160809552600160205220908154926002600184015493015492825194855260ff81161515602086015260081c16908301526060820152f35b8380fd5b8280fd5b9050346101155760203660031901126101155780356001600160a01b03818116929183900361020f5784541633036101bb57818452600160205260ff6001848620015416610178575082526001602052812080546100a9576001905580f35b606490602084519162461bcd60e51b8352820152601860248201527f54686520766f74657220616c726561647920766f7465642e00000000000000006044820152fd5b608490602084519162461bcd60e51b8352820152602860248201527f4f6e6c79206368616972706572736f6e2063616e2067697665207269676874206044820152673a37903b37ba329760c11b6064820152fd5b8480fd5b5050346100a957816003193601126100a9576020906102306105ef565b9051908152f35b919050346101155760209081600319360112610111576001600160a01b038335818116949085810361044657338752600193848652808820958654948515610403578688019485549960ff8b166103cb5733146103885790879291835b610309575b5084168a525287209584875410610305576001600160a81b03191660089190911b610100600160a81b031617831790558382015460ff16156102f757506102e860026102f2935494015461057c565b50019182546105cc565b905580f35b90506102f2915082546105cc565b8780fd5b908092935085168b528783528188858d20015460081c169488861561037e57505084331461033b578792919083610294565b835162461bcd60e51b8152908101839052601960248201527f466f756e64206c6f6f7020696e2064656c65676174696f6e2e000000000000006044820152606490fd5b9392915094610299565b835162461bcd60e51b8152908101839052601e60248201527f53656c662d64656c65676174696f6e20697320646973616c6c6f7765642e00006044820152606490fd5b845162461bcd60e51b815280830185905260126024820152712cb7ba9030b63932b0b23c903b37ba32b21760711b6044820152606490fd5b825162461bcd60e51b8152808601839052601960248201527f596f752068617665206e6f20726967687420746f20766f7465000000000000006044820152606490fd5b8680fd5b5050346100a957816003193601126100a957905490516001600160a01b039091168152602090f35b839150346100a95760203660031901126100a95735906002548210156104b0575061049c9061057c565b506001815491015482519182526020820152f35b80fd5b849184346101115760203660031901126101115781359133855260016020528185209182549485156105445750600183019182549160ff8316610510575050928060026001946102e894866102f29860ff1916179055015561057c565b906020606492519162461bcd60e51b8352820152600e60248201526d20b63932b0b23c903b37ba32b21760911b6044820152fd5b62461bcd60e51b81526020838201526014602482015273486173206e6f20726967687420746f20766f746560601b6044820152606490fd5b6002548110156105b657600260005260011b7f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0190600090565b634e487b7160e01b600052603260045260246000fd5b919082018092116105d957565b634e487b7160e01b600052601160045260246000fd5b600254600091908280805b8381106106075750505050565b6106108161057c565b508260018092015411610644575b506000198114610630576001016105fa565b634e487b7160e01b83526011600452602483fd5b915094506106518561057c565b500154843861061e56fea2646970667358221220590c910648309d3f1e7742cf6ab330d15d89dedf6fe2f9c477e1ada388bf0bd264736f6c63430008120033","sourceMap":"845:5384:35:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6195:17;6185:28;6195:17;;:::i;:::-;6185:28;:::i;:::-;845:5384;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;845:5384:35;;;;-1:-1:-1;;;;;845:5384:35;;;;;;;;;;;;;;;;;;;;;;;;;1469:39;;845:5384;1469:39;;845:5384;1469:39;;845:5384;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;845:5384:35;;;;;;-1:-1:-1;;;;;845:5384:35;;;;;;;;;;;;;2942:10;:25;845:5384;;;;;;;;;;;;;3069:19;845:5384;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;845:5384:35;;;;;;;;;;;;3392:10;845:5384;;;;;;;;;;;;;3422:18;;;845:5384;;3490:12;;;845:5384;;;;;;;;;3392:10;3546:16;845:5384;;4035:202;;;;;845:5384;;;4035:202;845:5384;;;;;;;;;;;;4379:21;845:5384;;-1:-1:-1;;;;;;845:5384:35;;;;;;-1:-1:-1;;;;;845:5384:35;;;;;;4583:15;;;845:5384;;;;;;;4692:25;:9;:52;845:5384;;4702:14;;845:5384;4692:25;:::i;:::-;:35;;845:5384;;;4692:52;:::i;:::-;845:5384;;;;4579:317;845:5384;;4851:33;845:5384;;;;4851:33;:::i;845:5384::-;;;;4035:202;845:5384;;;;;;;;;;;;;;;;;4042:19;845:5384;;;;4042:33;;;;;;4092:24;;;3392:10;4179:16;845:5384;;4035:202;;;;;;;845:5384;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;;;;;;;;;;;;4042:33;;;;;;;;845:5384;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;845:5384:35;;;;;;;;;;;;;;;;;-1:-1:-1;;845:5384:35;;;;;;1574:27;845:5384;1574:27;;;;;;;;;:::i;:::-;845:5384;;;;1574:27;;845:5384;;;;;;;;;;;1574:27;;;845:5384;;;;;;;;;-1:-1:-1;;845:5384:35;;;;;;5093:10;;845:5384;;;;;;;;;;;5123:18;;;845:5384;;5186:12;845:5384;5186:12;;845:5384;;;;;;;;;;;;;5258:11;845:5384;;5418:19;845:5384;;5418:46;845:5384;;;;;;;5258:11;845:5384;5418:19;:::i;845:5384::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;;;;;-1:-1:-1;;;845:5384:35;;;;;;;;5258:11;845:5384;;;;;;5258:11;-1:-1:-1;845:5384:35;;;;;;-1:-1:-1;845:5384:35;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;5561:375;5718:9;845:5384;;;5622:21;845:5384;;;5714:20;;;;;;5561:375;;;;:::o;5736:3::-;5760:12;;;:::i;:::-;845:5384;;;5760:22;;;845:5384;5760:41;5756:162;;5736:3;-1:-1:-1;;;845:5384:35;;;;;;5702:10;;845:5384;-1:-1:-1;;;845:5384:35;;;;;;;;5756:162;5841:12;;;;;;;:::i;:::-;:22;;845:5384;5882:20;5756:162;;","linkReferences":{}},"methodIdentifiers":{"chairperson()":"2e4176cf","delegate(address)":"5c19a95c","giveRightToVote(address)":"9e7b8d61","proposals(uint256)":"013cf08b","vote(uint256)":"0121b93f","voters(address)":"a3ec138d","winnerName()":"e2ba53f0","winningProposal()":"609ff1bd"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"proposalNames\",\"type\":\"bytes32[]\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"chairperson\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"delegate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"voter\",\"type\":\"address\"}],\"name\":\"giveRightToVote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"proposals\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"name\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"voteCount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"proposal\",\"type\":\"uint256\"}],\"name\":\"vote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"voters\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"weight\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"voted\",\"type\":\"bool\"},{\"internalType\":\"address\",\"name\":\"delegate\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"vote\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"winnerName\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerName_\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"winningProposal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"winningProposal_\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"winningProposal()\":{\"details\":\"\\u7ed3\\u5408\\u4e4b\\u524d\\u6240\\u6709\\u6295\\u7968\\u7684\\u60c5\\u51b5\\u4e0b\\uff0c\\u8ba1\\u7b97\\u51fa\\u83b7\\u80dc\\u7684\\u63d0\\u6848\\u3002\"}},\"title\":\"\\u59d4\\u6258\\u6295\\u7968\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"constructor\":{\"notice\":\"\\u4e3a `proposalNames` \\u4e2d\\u7684\\u6bcf\\u4e2a\\u63d0\\u6848\\uff0c\\u521b\\u5efa\\u4e00\\u4e2a\\u65b0\\u7684\\uff08\\u6295\\u7968\\uff09\\u8868\\u51b3\"},\"delegate(address)\":{\"notice\":\"\\u628a\\u60a8\\u7684\\u6295\\u7968\\u59d4\\u6258\\u7ed9\\u6295\\u7968\\u8005 `to`\\u3002\"},\"vote(uint256)\":{\"notice\":\"\\u628a\\u60a8\\u7684\\u7968(\\u5305\\u62ec\\u59d4\\u6258\\u7ed9\\u60a8\\u7684\\u7968)\\uff0c \\u6295\\u7ed9\\u63d0\\u6848 `proposals[proposal].name`\\u3002\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/contracts/demo/Ballot.sol\":\"Ballot\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\"],\"viaIR\":true},\"sources\":{\"src/contracts/demo/Ballot.sol\":{\"keccak256\":\"0x87f0e85fcd85e83d90882e5b4fece79980d7f1d754cccded38cbcd8e662d191b\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://b52cafd06ba434f6585e8e68d803d26476299fcac8253da4a55578e5668b8da3\",\"dweb:/ipfs/QmWzHCif55tp9LqCHUKVXutuAQaLVnHu8DZLL3cNhZW9SX\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32[]","name":"proposalNames","type":"bytes32[]"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"stateMutability":"view","type":"function","name":"chairperson","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"to","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"delegate"},{"inputs":[{"internalType":"address","name":"voter","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"giveRightToVote"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"proposals","outputs":[{"internalType":"bytes32","name":"name","type":"bytes32"},{"internalType":"uint256","name":"voteCount","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"proposal","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"vote"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"voters","outputs":[{"internalType":"uint256","name":"weight","type":"uint256"},{"internalType":"bool","name":"voted","type":"bool"},{"internalType":"address","name":"delegate","type":"address"},{"internalType":"uint256","name":"vote","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"winnerName","outputs":[{"internalType":"bytes32","name":"winnerName_","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"winningProposal","outputs":[{"internalType":"uint256","name":"winningProposal_","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"winningProposal()":{"details":"结合之前所有投票的情况下，计算出获胜的提案。"}},"version":1},"userdoc":{"kind":"user","methods":{"constructor":{"notice":"为 `proposalNames` 中的每个提案，创建一个新的（投票）表决"},"delegate(address)":{"notice":"把您的投票委托给投票者 `to`。"},"vote(uint256)":{"notice":"把您的票(包括委托给您的票)， 投给提案 `proposals[proposal].name`。"}},"version":1}},"settings":{"remappings":["ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/contracts/demo/Ballot.sol":"Ballot"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"src/contracts/demo/Ballot.sol":{"keccak256":"0x87f0e85fcd85e83d90882e5b4fece79980d7f1d754cccded38cbcd8e662d191b","urls":["bzz-raw://b52cafd06ba434f6585e8e68d803d26476299fcac8253da4a55578e5668b8da3","dweb:/ipfs/QmWzHCif55tp9LqCHUKVXutuAQaLVnHu8DZLL3cNhZW9SX"],"license":"GPL-3.0"}},"version":1},"ast":{"absolutePath":"src/contracts/demo/Ballot.sol","id":46815,"exportedSymbols":{"Ballot":[46814]},"nodeType":"SourceUnit","src":"37:6192:35","nodes":[{"id":46486,"nodeType":"PragmaDirective","src":"37:31:35","nodes":[],"literals":["solidity",">=","0.7",".0","<","0.9",".0"]},{"id":46814,"nodeType":"ContractDefinition","src":"845:5384:35","nodes":[{"id":46496,"nodeType":"StructDefinition","src":"976:211:35","nodes":[],"canonicalName":"Ballot.Voter","members":[{"constant":false,"id":46489,"mutability":"mutable","name":"weight","nameLocation":"1005:6:35","nodeType":"VariableDeclaration","scope":46496,"src":"1000:11:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46488,"name":"uint","nodeType":"ElementaryTypeName","src":"1000:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46491,"mutability":"mutable","name":"voted","nameLocation":"1046:5:35","nodeType":"VariableDeclaration","scope":46496,"src":"1041:10:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46490,"name":"bool","nodeType":"ElementaryTypeName","src":"1041:4:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":46493,"mutability":"mutable","name":"delegate","nameLocation":"1108:8:35","nodeType":"VariableDeclaration","scope":46496,"src":"1100:16:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46492,"name":"address","nodeType":"ElementaryTypeName","src":"1100:7:35","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46495,"mutability":"mutable","name":"vote","nameLocation":"1148:4:35","nodeType":"VariableDeclaration","scope":46496,"src":"1143:9:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46494,"name":"uint","nodeType":"ElementaryTypeName","src":"1143:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Voter","nameLocation":"983:5:35","scope":46814,"visibility":"public"},{"id":46501,"nodeType":"StructDefinition","src":"1219:120:35","nodes":[],"canonicalName":"Ballot.Proposal","members":[{"constant":false,"id":46498,"mutability":"mutable","name":"name","nameLocation":"1254:4:35","nodeType":"VariableDeclaration","scope":46501,"src":"1246:12:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46497,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1246:7:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":46500,"mutability":"mutable","name":"voteCount","nameLocation":"1309:9:35","nodeType":"VariableDeclaration","scope":46501,"src":"1304:14:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46499,"name":"uint","nodeType":"ElementaryTypeName","src":"1304:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Proposal","nameLocation":"1226:8:35","scope":46814,"visibility":"public"},{"id":46503,"nodeType":"VariableDeclaration","src":"1347:26:35","nodes":[],"constant":false,"functionSelector":"2e4176cf","mutability":"mutable","name":"chairperson","nameLocation":"1362:11:35","scope":46814,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46502,"name":"address","nodeType":"ElementaryTypeName","src":"1347:7:35","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":46508,"nodeType":"VariableDeclaration","src":"1469:39:35","nodes":[],"constant":false,"functionSelector":"a3ec138d","mutability":"mutable","name":"voters","nameLocation":"1502:6:35","scope":46814,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter)"},"typeName":{"id":46507,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":46504,"name":"address","nodeType":"ElementaryTypeName","src":"1477:7:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1469:25:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":46506,"nodeType":"UserDefinedTypeName","pathNode":{"id":46505,"name":"Voter","nameLocations":["1488:5:35"],"nodeType":"IdentifierPath","referencedDeclaration":46496,"src":"1488:5:35"},"referencedDeclaration":46496,"src":"1488:5:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"}}},"visibility":"public"},{"id":46512,"nodeType":"VariableDeclaration","src":"1574:27:35","nodes":[],"constant":false,"functionSelector":"013cf08b","mutability":"mutable","name":"proposals","nameLocation":"1592:9:35","scope":46814,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal[]"},"typeName":{"baseType":{"id":46510,"nodeType":"UserDefinedTypeName","pathNode":{"id":46509,"name":"Proposal","nameLocations":["1574:8:35"],"nodeType":"IdentifierPath","referencedDeclaration":46501,"src":"1574:8:35"},"referencedDeclaration":46501,"src":"1574:8:35","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_storage_ptr","typeString":"struct Ballot.Proposal"}},"id":46511,"nodeType":"ArrayTypeName","src":"1574:10:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage_ptr","typeString":"struct Ballot.Proposal[]"}},"visibility":"public"},{"id":46556,"nodeType":"FunctionDefinition","src":"1697:605:35","nodes":[],"body":{"id":46555,"nodeType":"Block","src":"1741:561:35","nodes":[],"statements":[{"expression":{"id":46522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46519,"name":"chairperson","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46503,"src":"1752:11:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":46520,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"1766:3:35","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1770:6:35","memberName":"sender","nodeType":"MemberAccess","src":"1766:10:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1752:24:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46523,"nodeType":"ExpressionStatement","src":"1752:24:35"},{"expression":{"id":46529,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46524,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"1787:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46526,"indexExpression":{"id":46525,"name":"chairperson","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46503,"src":"1794:11:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1787:19:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"id":46527,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1807:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"1787:26:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":46528,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1816:1:35","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1787:30:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46530,"nodeType":"ExpressionStatement","src":"1787:30:35"},{"body":{"id":46553,"nodeType":"Block","src":"2010:285:35","statements":[{"expression":{"arguments":[{"arguments":[{"baseExpression":{"id":46546,"name":"proposalNames","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46516,"src":"2219:13:35","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":46548,"indexExpression":{"id":46547,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46532,"src":"2233:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2219:16:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"hexValue":"30","id":46549,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2265:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46545,"name":"Proposal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46501,"src":"2185:8:35","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Proposal_$46501_storage_ptr_$","typeString":"type(struct Ballot.Proposal storage pointer)"}},"id":46550,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["2213:4:35","2254:9:35"],"names":["name","voteCount"],"nodeType":"FunctionCall","src":"2185:97:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_memory_ptr","typeString":"struct Ballot.Proposal memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Proposal_$46501_memory_ptr","typeString":"struct Ballot.Proposal memory"}],"expression":{"id":46542,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"2170:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2180:4:35","memberName":"push","nodeType":"MemberAccess","src":"2170:14:35","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage_ptr_$_t_struct$_Proposal_$46501_storage_$returns$__$attached_to$_t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage_ptr_$","typeString":"function (struct Ballot.Proposal storage ref[] storage pointer,struct Ballot.Proposal storage ref)"}},"id":46551,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2170:113:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46552,"nodeType":"ExpressionStatement","src":"2170:113:35"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46538,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46535,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46532,"src":"1979:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":46536,"name":"proposalNames","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46516,"src":"1983:13:35","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":46537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1997:6:35","memberName":"length","nodeType":"MemberAccess","src":"1983:20:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1979:24:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46554,"initializationExpression":{"assignments":[46532],"declarations":[{"constant":false,"id":46532,"mutability":"mutable","name":"i","nameLocation":"1972:1:35","nodeType":"VariableDeclaration","scope":46554,"src":"1967:6:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46531,"name":"uint","nodeType":"ElementaryTypeName","src":"1967:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46534,"initialValue":{"hexValue":"30","id":46533,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1976:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1967:10:35"},"loopExpression":{"expression":{"id":46540,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"2005:3:35","subExpression":{"id":46539,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46532,"src":"2005:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46541,"nodeType":"ExpressionStatement","src":"2005:3:35"},"nodeType":"ForStatement","src":"1962:333:35"}]},"documentation":{"id":46513,"nodeType":"StructuredDocumentation","src":"1610:81:35","text":"为 `proposalNames` 中的每个提案，创建一个新的（投票）表决"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":46517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46516,"mutability":"mutable","name":"proposalNames","nameLocation":"1726:13:35","nodeType":"VariableDeclaration","scope":46556,"src":"1709:30:35","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":46514,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1709:7:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":46515,"nodeType":"ArrayTypeName","src":"1709:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"src":"1708:32:35"},"returnParameters":{"id":46518,"nodeType":"ParameterList","parameters":[],"src":"1741:0:35"},"scope":46814,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":46595,"nodeType":"FunctionDefinition","src":"2424:804:35","nodes":[],"body":{"id":46594,"nodeType":"Block","src":"2473:755:35","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46562,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2942:3:35","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46563,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2946:6:35","memberName":"sender","nodeType":"MemberAccess","src":"2942:10:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":46564,"name":"chairperson","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46503,"src":"2956:11:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2942:25:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4f6e6c79206368616972706572736f6e2063616e206769766520726967687420746f20766f74652e","id":46566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2982:42:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_80126ce3251ab2b6e4ade14fe5b2bc11f593510cbe9e3550c09bff1989e33b95","typeString":"literal_string \"Only chairperson can give right to vote.\""},"value":"Only chairperson can give right to vote."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_80126ce3251ab2b6e4ade14fe5b2bc11f593510cbe9e3550c09bff1989e33b95","typeString":"literal_string \"Only chairperson can give right to vote.\""}],"id":46561,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2920:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2920:115:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46568,"nodeType":"ExpressionStatement","src":"2920:115:35"},{"expression":{"arguments":[{"id":46574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3068:20:35","subExpression":{"expression":{"baseExpression":{"id":46570,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"3069:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46572,"indexExpression":{"id":46571,"name":"voter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46558,"src":"3076:5:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3069:13:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"id":46573,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3083:5:35","memberName":"voted","nodeType":"MemberAccess","referencedDeclaration":46491,"src":"3069:19:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"54686520766f74657220616c726561647920766f7465642e","id":46575,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3103:26:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_d39b1db28626750c546703ffb72f30ea3facdfed1bebd47408e22ef18a76ba2d","typeString":"literal_string \"The voter already voted.\""},"value":"The voter already voted."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d39b1db28626750c546703ffb72f30ea3facdfed1bebd47408e22ef18a76ba2d","typeString":"literal_string \"The voter already voted.\""}],"id":46569,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3046:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46576,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3046:94:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46577,"nodeType":"ExpressionStatement","src":"3046:94:35"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":46579,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"3159:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46581,"indexExpression":{"id":46580,"name":"voter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46558,"src":"3166:5:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3159:13:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"id":46582,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3173:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"3159:20:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":46583,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3183:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3159:25:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":46578,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3151:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":46585,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3151:34:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46586,"nodeType":"ExpressionStatement","src":"3151:34:35"},{"expression":{"id":46592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46587,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"3196:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46589,"indexExpression":{"id":46588,"name":"voter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46558,"src":"3203:5:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3196:13:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"id":46590,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3210:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"3196:20:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":46591,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3219:1:35","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"3196:24:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46593,"nodeType":"ExpressionStatement","src":"3196:24:35"}]},"functionSelector":"9e7b8d61","implemented":true,"kind":"function","modifiers":[],"name":"giveRightToVote","nameLocation":"2433:15:35","parameters":{"id":46559,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46558,"mutability":"mutable","name":"voter","nameLocation":"2457:5:35","nodeType":"VariableDeclaration","scope":46595,"src":"2449:13:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46557,"name":"address","nodeType":"ElementaryTypeName","src":"2449:7:35","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2448:15:35"},"returnParameters":{"id":46560,"nodeType":"ParameterList","parameters":[],"src":"2473:0:35"},"scope":46814,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46706,"nodeType":"FunctionDefinition","src":"3287:1616:35","nodes":[],"body":{"id":46705,"nodeType":"Block","src":"3326:1577:35","nodes":[],"statements":[{"assignments":[46603],"declarations":[{"constant":false,"id":46603,"mutability":"mutable","name":"sender","nameLocation":"3376:6:35","nodeType":"VariableDeclaration","scope":46705,"src":"3362:20:35","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"},"typeName":{"id":46602,"nodeType":"UserDefinedTypeName","pathNode":{"id":46601,"name":"Voter","nameLocations":["3362:5:35"],"nodeType":"IdentifierPath","referencedDeclaration":46496,"src":"3362:5:35"},"referencedDeclaration":46496,"src":"3362:5:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"}},"visibility":"internal"}],"id":46608,"initialValue":{"baseExpression":{"id":46604,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"3385:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46607,"indexExpression":{"expression":{"id":46605,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3392:3:35","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3396:6:35","memberName":"sender","nodeType":"MemberAccess","src":"3392:10:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3385:18:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3362:41:35"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46613,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46610,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46603,"src":"3422:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46611,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3429:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"3422:13:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":46612,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3422:18:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"596f752068617665206e6f20726967687420746f20766f7465","id":46614,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3442:27:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_35a577e7de6207f2138c40f7fab88ae3d54ce067aab884d541865ef73f90900b","typeString":"literal_string \"You have no right to vote\""},"value":"You have no right to vote"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_35a577e7de6207f2138c40f7fab88ae3d54ce067aab884d541865ef73f90900b","typeString":"literal_string \"You have no right to vote\""}],"id":46609,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3414:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46615,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3414:56:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46616,"nodeType":"ExpressionStatement","src":"3414:56:35"},{"expression":{"arguments":[{"id":46620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3489:13:35","subExpression":{"expression":{"id":46618,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46603,"src":"3490:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46619,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3497:5:35","memberName":"voted","nodeType":"MemberAccess","referencedDeclaration":46491,"src":"3490:12:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"596f7520616c726561647920766f7465642e","id":46621,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3504:20:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_657c6119c4ed567c60278fba62242b17c2fedf38962e651040dabfb3c9e15a5f","typeString":"literal_string \"You already voted.\""},"value":"You already voted."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_657c6119c4ed567c60278fba62242b17c2fedf38962e651040dabfb3c9e15a5f","typeString":"literal_string \"You already voted.\""}],"id":46617,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3481:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3481:44:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46623,"nodeType":"ExpressionStatement","src":"3481:44:35"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46625,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"3546:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":46626,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3552:3:35","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3556:6:35","memberName":"sender","nodeType":"MemberAccess","src":"3552:10:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3546:16:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"53656c662d64656c65676174696f6e20697320646973616c6c6f7765642e","id":46629,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3564:32:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_f37bf1aca80f8fa291a40f639db6aeaa1425ceb0e8c61c8648f0e2efa282a947","typeString":"literal_string \"Self-delegation is disallowed.\""},"value":"Self-delegation is disallowed."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f37bf1aca80f8fa291a40f639db6aeaa1425ceb0e8c61c8648f0e2efa282a947","typeString":"literal_string \"Self-delegation is disallowed.\""}],"id":46624,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3538:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46630,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3538:59:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46631,"nodeType":"ExpressionStatement","src":"3538:59:35"},{"body":{"id":46656,"nodeType":"Block","src":"4077:160:35","statements":[{"expression":{"id":46646,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46641,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"4092:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"id":46642,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"4097:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46644,"indexExpression":{"id":46643,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"4104:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4097:10:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"id":46645,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4108:8:35","memberName":"delegate","nodeType":"MemberAccess","referencedDeclaration":46493,"src":"4097:19:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4092:24:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46647,"nodeType":"ExpressionStatement","src":"4092:24:35"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46652,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46649,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"4179:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":46650,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4185:3:35","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46651,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4189:6:35","memberName":"sender","nodeType":"MemberAccess","src":"4185:10:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4179:16:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"466f756e64206c6f6f7020696e2064656c65676174696f6e2e","id":46653,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4197:27:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_8bd75322489f7ff7ab0b18506f4dcde935a32eca2a506b00f4d21b0becfa093c","typeString":"literal_string \"Found loop in delegation.\""},"value":"Found loop in delegation."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8bd75322489f7ff7ab0b18506f4dcde935a32eca2a506b00f4d21b0becfa093c","typeString":"literal_string \"Found loop in delegation.\""}],"id":46648,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4171:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46654,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4171:54:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46655,"nodeType":"ExpressionStatement","src":"4171:54:35"}]},"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":46632,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"4042:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46634,"indexExpression":{"id":46633,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"4049:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4042:10:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"id":46635,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4053:8:35","memberName":"delegate","nodeType":"MemberAccess","referencedDeclaration":46493,"src":"4042:19:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46638,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4073:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46637,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4065:7:35","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46636,"name":"address","nodeType":"ElementaryTypeName","src":"4065:7:35","typeDescriptions":{}}},"id":46639,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4065:10:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4042:33:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46657,"nodeType":"WhileStatement","src":"4035:202:35"},{"assignments":[46660],"declarations":[{"constant":false,"id":46660,"mutability":"mutable","name":"delegate_","nameLocation":"4263:9:35","nodeType":"VariableDeclaration","scope":46705,"src":"4249:23:35","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"},"typeName":{"id":46659,"nodeType":"UserDefinedTypeName","pathNode":{"id":46658,"name":"Voter","nameLocations":["4249:5:35"],"nodeType":"IdentifierPath","referencedDeclaration":46496,"src":"4249:5:35"},"referencedDeclaration":46496,"src":"4249:5:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"}},"visibility":"internal"}],"id":46664,"initialValue":{"baseExpression":{"id":46661,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"4275:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46663,"indexExpression":{"id":46662,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"4282:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4275:10:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4249:36:35"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46666,"name":"delegate_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46660,"src":"4379:9:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46667,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4389:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"4379:16:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"31","id":46668,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4399:1:35","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"4379:21:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":46665,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4371:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":46670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4371:30:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46671,"nodeType":"ExpressionStatement","src":"4371:30:35"},{"expression":{"id":46676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46672,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46603,"src":"4516:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46674,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4523:5:35","memberName":"voted","nodeType":"MemberAccess","referencedDeclaration":46491,"src":"4516:12:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":46675,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4531:4:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4516:19:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46677,"nodeType":"ExpressionStatement","src":"4516:19:35"},{"expression":{"id":46682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46678,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46603,"src":"4546:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46680,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4553:8:35","memberName":"delegate","nodeType":"MemberAccess","referencedDeclaration":46493,"src":"4546:15:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46681,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46598,"src":"4564:2:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4546:20:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":46683,"nodeType":"ExpressionStatement","src":"4546:20:35"},{"condition":{"expression":{"id":46684,"name":"delegate_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46660,"src":"4583:9:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46685,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4593:5:35","memberName":"voted","nodeType":"MemberAccess","referencedDeclaration":46491,"src":"4583:15:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":46703,"nodeType":"Block","src":"4762:134:35","statements":[{"expression":{"id":46701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46696,"name":"delegate_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46660,"src":"4851:9:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46698,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4861:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"4851:16:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":46699,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46603,"src":"4871:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46700,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4878:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"4871:13:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4851:33:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46702,"nodeType":"ExpressionStatement","src":"4851:33:35"}]},"id":46704,"nodeType":"IfStatement","src":"4579:317:35","trueBody":{"id":46695,"nodeType":"Block","src":"4600:156:35","statements":[{"expression":{"id":46693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46686,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"4692:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46689,"indexExpression":{"expression":{"id":46687,"name":"delegate_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46660,"src":"4702:9:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46688,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4712:4:35","memberName":"vote","nodeType":"MemberAccess","referencedDeclaration":46495,"src":"4702:14:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4692:25:35","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_storage","typeString":"struct Ballot.Proposal storage ref"}},"id":46690,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4718:9:35","memberName":"voteCount","nodeType":"MemberAccess","referencedDeclaration":46500,"src":"4692:35:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":46691,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46603,"src":"4731:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46692,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4738:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"4731:13:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4692:52:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46694,"nodeType":"ExpressionStatement","src":"4692:52:35"}]}}]},"documentation":{"id":46596,"nodeType":"StructuredDocumentation","src":"3236:45:35","text":"把您的投票委托给投票者 `to`。"},"functionSelector":"5c19a95c","implemented":true,"kind":"function","modifiers":[],"name":"delegate","nameLocation":"3296:8:35","parameters":{"id":46599,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46598,"mutability":"mutable","name":"to","nameLocation":"3313:2:35","nodeType":"VariableDeclaration","scope":46706,"src":"3305:10:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46597,"name":"address","nodeType":"ElementaryTypeName","src":"3305:7:35","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3304:12:35"},"returnParameters":{"id":46600,"nodeType":"ParameterList","parameters":[],"src":"3326:0:35"},"scope":46814,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46756,"nodeType":"FunctionDefinition","src":"5014:458:35","nodes":[],"body":{"id":46755,"nodeType":"Block","src":"5052:420:35","nodes":[],"statements":[{"assignments":[46714],"declarations":[{"constant":false,"id":46714,"mutability":"mutable","name":"sender","nameLocation":"5077:6:35","nodeType":"VariableDeclaration","scope":46755,"src":"5063:20:35","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"},"typeName":{"id":46713,"nodeType":"UserDefinedTypeName","pathNode":{"id":46712,"name":"Voter","nameLocations":["5063:5:35"],"nodeType":"IdentifierPath","referencedDeclaration":46496,"src":"5063:5:35"},"referencedDeclaration":46496,"src":"5063:5:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter"}},"visibility":"internal"}],"id":46719,"initialValue":{"baseExpression":{"id":46715,"name":"voters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46508,"src":"5086:6:35","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Voter_$46496_storage_$","typeString":"mapping(address => struct Ballot.Voter storage ref)"}},"id":46718,"indexExpression":{"expression":{"id":46716,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5093:3:35","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5097:6:35","memberName":"sender","nodeType":"MemberAccess","src":"5093:10:35","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5086:18:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage","typeString":"struct Ballot.Voter storage ref"}},"nodeType":"VariableDeclarationStatement","src":"5063:41:35"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46721,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"5123:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46722,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5130:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"5123:13:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":46723,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5140:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5123:18:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"486173206e6f20726967687420746f20766f7465","id":46725,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5143:22:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_0dc527e8fa9b76c996eb5eda9ddb749b21540f5509781b94e1e37f7027e7f50e","typeString":"literal_string \"Has no right to vote\""},"value":"Has no right to vote"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0dc527e8fa9b76c996eb5eda9ddb749b21540f5509781b94e1e37f7027e7f50e","typeString":"literal_string \"Has no right to vote\""}],"id":46720,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5115:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46726,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5115:51:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46727,"nodeType":"ExpressionStatement","src":"5115:51:35"},{"expression":{"arguments":[{"id":46731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"5185:13:35","subExpression":{"expression":{"id":46729,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"5186:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46730,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5193:5:35","memberName":"voted","nodeType":"MemberAccess","referencedDeclaration":46491,"src":"5186:12:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"416c726561647920766f7465642e","id":46732,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5200:16:35","typeDescriptions":{"typeIdentifier":"t_stringliteral_56aab92b7164a4ea72a098d2d95a5e763b71d07f265e8d46fc7240404017fa84","typeString":"literal_string \"Already voted.\""},"value":"Already voted."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_56aab92b7164a4ea72a098d2d95a5e763b71d07f265e8d46fc7240404017fa84","typeString":"literal_string \"Already voted.\""}],"id":46728,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5177:7:35","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46733,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5177:40:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46734,"nodeType":"ExpressionStatement","src":"5177:40:35"},{"expression":{"id":46739,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46735,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"5228:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46737,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5235:5:35","memberName":"voted","nodeType":"MemberAccess","referencedDeclaration":46491,"src":"5228:12:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":46738,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5243:4:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"5228:19:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46740,"nodeType":"ExpressionStatement","src":"5228:19:35"},{"expression":{"id":46745,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":46741,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"5258:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46743,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5265:4:35","memberName":"vote","nodeType":"MemberAccess","referencedDeclaration":46495,"src":"5258:11:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46744,"name":"proposal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46709,"src":"5272:8:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5258:22:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46746,"nodeType":"ExpressionStatement","src":"5258:22:35"},{"expression":{"id":46753,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46747,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"5418:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46749,"indexExpression":{"id":46748,"name":"proposal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46709,"src":"5428:8:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5418:19:35","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_storage","typeString":"struct Ballot.Proposal storage ref"}},"id":46750,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5438:9:35","memberName":"voteCount","nodeType":"MemberAccess","referencedDeclaration":46500,"src":"5418:29:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":46751,"name":"sender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"5451:6:35","typeDescriptions":{"typeIdentifier":"t_struct$_Voter_$46496_storage_ptr","typeString":"struct Ballot.Voter storage pointer"}},"id":46752,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5458:6:35","memberName":"weight","nodeType":"MemberAccess","referencedDeclaration":46489,"src":"5451:13:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5418:46:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46754,"nodeType":"ExpressionStatement","src":"5418:46:35"}]},"documentation":{"id":46707,"nodeType":"StructuredDocumentation","src":"4911:97:35","text":"把您的票(包括委托给您的票)，\n 投给提案 `proposals[proposal].name`。"},"functionSelector":"0121b93f","implemented":true,"kind":"function","modifiers":[],"name":"vote","nameLocation":"5023:4:35","parameters":{"id":46710,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46709,"mutability":"mutable","name":"proposal","nameLocation":"5033:8:35","nodeType":"VariableDeclaration","scope":46756,"src":"5028:13:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46708,"name":"uint","nodeType":"ElementaryTypeName","src":"5028:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5027:15:35"},"returnParameters":{"id":46711,"nodeType":"ParameterList","parameters":[],"src":"5052:0:35"},"scope":46814,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46799,"nodeType":"FunctionDefinition","src":"5561:375:35","nodes":[],"body":{"id":46798,"nodeType":"Block","src":"5650:286:35","nodes":[],"statements":[{"assignments":[46763],"declarations":[{"constant":false,"id":46763,"mutability":"mutable","name":"winningVoteCount","nameLocation":"5666:16:35","nodeType":"VariableDeclaration","scope":46798,"src":"5661:21:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46762,"name":"uint","nodeType":"ElementaryTypeName","src":"5661:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46765,"initialValue":{"hexValue":"30","id":46764,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5685:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5661:25:35"},{"body":{"id":46796,"nodeType":"Block","src":"5741:188:35","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":46777,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"5760:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46779,"indexExpression":{"id":46778,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46767,"src":"5770:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5760:12:35","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_storage","typeString":"struct Ballot.Proposal storage ref"}},"id":46780,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5773:9:35","memberName":"voteCount","nodeType":"MemberAccess","referencedDeclaration":46500,"src":"5760:22:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":46781,"name":"winningVoteCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46763,"src":"5785:16:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5760:41:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46795,"nodeType":"IfStatement","src":"5756:162:35","trueBody":{"id":46794,"nodeType":"Block","src":"5803:115:35","statements":[{"expression":{"id":46788,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46783,"name":"winningVoteCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46763,"src":"5822:16:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"id":46784,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"5841:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46786,"indexExpression":{"id":46785,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46767,"src":"5851:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5841:12:35","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_storage","typeString":"struct Ballot.Proposal storage ref"}},"id":46787,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5854:9:35","memberName":"voteCount","nodeType":"MemberAccess","referencedDeclaration":46500,"src":"5841:22:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5822:41:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46789,"nodeType":"ExpressionStatement","src":"5822:41:35"},{"expression":{"id":46792,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46790,"name":"winningProposal_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46760,"src":"5882:16:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":46791,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46767,"src":"5901:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5882:20:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46793,"nodeType":"ExpressionStatement","src":"5882:20:35"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46770,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46767,"src":"5714:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":46771,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"5718:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46772,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5728:6:35","memberName":"length","nodeType":"MemberAccess","src":"5718:16:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5714:20:35","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":46797,"initializationExpression":{"assignments":[46767],"declarations":[{"constant":false,"id":46767,"mutability":"mutable","name":"p","nameLocation":"5707:1:35","nodeType":"VariableDeclaration","scope":46797,"src":"5702:6:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46766,"name":"uint","nodeType":"ElementaryTypeName","src":"5702:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":46769,"initialValue":{"hexValue":"30","id":46768,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5711:1:35","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"5702:10:35"},"loopExpression":{"expression":{"id":46775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5736:3:35","subExpression":{"id":46774,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46767,"src":"5736:1:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46776,"nodeType":"ExpressionStatement","src":"5736:3:35"},"nodeType":"ForStatement","src":"5697:232:35"}]},"documentation":{"id":46757,"nodeType":"StructuredDocumentation","src":"5480:75:35","text":"@dev 结合之前所有投票的情况下，计算出获胜的提案。"},"functionSelector":"609ff1bd","implemented":true,"kind":"function","modifiers":[],"name":"winningProposal","nameLocation":"5570:15:35","parameters":{"id":46758,"nodeType":"ParameterList","parameters":[],"src":"5585:2:35"},"returnParameters":{"id":46761,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46760,"mutability":"mutable","name":"winningProposal_","nameLocation":"5627:16:35","nodeType":"VariableDeclaration","scope":46799,"src":"5622:21:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46759,"name":"uint","nodeType":"ElementaryTypeName","src":"5622:4:35","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5621:23:35"},"scope":46814,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":46813,"nodeType":"FunctionDefinition","src":"6076:150:35","nodes":[],"body":{"id":46812,"nodeType":"Block","src":"6160:66:35","nodes":[],"statements":[{"expression":{"id":46810,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46804,"name":"winnerName_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46802,"src":"6171:11:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"baseExpression":{"id":46805,"name":"proposals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46512,"src":"6185:9:35","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proposal_$46501_storage_$dyn_storage","typeString":"struct Ballot.Proposal storage ref[] storage ref"}},"id":46808,"indexExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":46806,"name":"winningProposal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46799,"src":"6195:15:35","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":46807,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6195:17:35","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6185:28:35","typeDescriptions":{"typeIdentifier":"t_struct$_Proposal_$46501_storage","typeString":"struct Ballot.Proposal storage ref"}},"id":46809,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6214:4:35","memberName":"name","nodeType":"MemberAccess","referencedDeclaration":46498,"src":"6185:33:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"6171:47:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":46811,"nodeType":"ExpressionStatement","src":"6171:47:35"}]},"functionSelector":"e2ba53f0","implemented":true,"kind":"function","modifiers":[],"name":"winnerName","nameLocation":"6085:10:35","parameters":{"id":46800,"nodeType":"ParameterList","parameters":[],"src":"6095:2:35"},"returnParameters":{"id":46803,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46802,"mutability":"mutable","name":"winnerName_","nameLocation":"6142:11:35","nodeType":"VariableDeclaration","scope":46813,"src":"6134:19:35","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":46801,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6134:7:35","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"6133:21:35"},"scope":46814,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"Ballot","contractDependencies":[],"contractKind":"contract","documentation":{"id":46487,"nodeType":"StructuredDocumentation","src":"70:25:35","text":"@title 委托投票"},"fullyImplemented":true,"linearizedBaseContracts":[46814],"name":"Ballot","nameLocation":"854:6:35","scope":46815,"usedErrors":[]}],"license":"GPL-3.0"},"id":35}